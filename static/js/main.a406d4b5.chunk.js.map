{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","utils/Api.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/Spinner.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","onCardDeleteRequest","onCardClick","style","backgroundImage","link","name","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","ImagePopup","isOpen","onClose","src","alt","PopupWithForm","text","children","btnText","api","config","this","mainUrl","headers","fetch","then","_getResponseData","Promise","all","getUserInfo","getInitialCards","data","method","body","JSON","stringify","url","id","likeRemove","likeAdd","res","ok","json","reject","status","authorization","EditAvatarPopup","avatarRef","useRef","onSubmit","e","preventDefault","onUpdateAvatar","current","value","ref","required","autoComplete","placeholder","isLoading","EditProfilePopup","useState","setName","description","setDescription","useEffect","onUpdateUser","onChange","target","minLength","maxLength","AddPlacePopup","setNamePlace","setLinkPlace","ConfirmPopup","Spinner","App","setCurrentUser","isEditProfilePopupOpen","setEditProfilePopup","isAddPlacePopupOpen","setAddPlacePopup","isEditAvatarPopupOpen","setEditAvatarPopup","selectedCard","setSelectedCard","isConfirmPopupOpen","setConfirmPopupOpen","setCards","setIsLoading","closeAllPopups","getInitialData","userData","initialCardsData","catch","err","console","log","finally","Provider","changeLikeCardStatus","newCard","newCards","currentCard","changeUserInfo","changeUserAvatar","newCardAdd","evt","deleteCard","filter","elem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yLAOeA,MAPf,WACI,OACI,wBAAQC,UAAU,SAAlB,SACA,qBAAKA,UAAU,oBCFVC,EAAqBC,IAAMC,gBC6CzBC,MA3Cf,SAAcC,GACV,IAAMC,EAAcJ,IAAMK,WAAWN,GAE/BO,EAAQH,EAAMI,KAAKC,MAAMC,MAAQL,EAAYK,IAE7CC,EAAyB,UACxBJ,EAAQ,mBAAqB,6BAG9BK,EAAUR,EAAMI,KAAKK,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQL,EAAYK,OAG3DM,EAAuB,UAAMJ,EAAU,0CAA4C,oBAczF,OAEI,qBAAIb,UAAU,iBAAd,UACI,wBAAQA,UAAWY,EAA2BM,KAAK,SAASC,QANpE,WACId,EAAMe,oBAAoBf,EAAMI,SAM5B,qBAAKT,UAAU,kBAAkBmB,QAhBzC,WACId,EAAMgB,YAAYhB,EAAMI,OAemCa,MAAO,CAAEC,gBAAgB,OAAD,OAASlB,EAAMI,KAAKe,KAApB,QAC/E,sBAAKxB,UAAU,2BAAf,UACI,oBAAIA,UAAU,iBAAd,SAAgCK,EAAMI,KAAKgB,OAC3C,sBAAKzB,UAAU,2BAAf,UACI,wBAAQA,UAAWiB,EAAyBE,QAhB5D,WACId,EAAMqB,WAAWrB,EAAMI,OAe2DS,KAAK,WAC3E,mBAAGlB,UAAU,yBAAb,SAAuCK,EAAMI,KAAKK,MAAMa,mBCW7DC,MA7Cf,SAAcvB,GAEV,IAAMC,EAAcJ,IAAMK,WAAWN,GAErC,OACI,iCACI,0BAASD,UAAU,UAAnB,UACI,sBAAKA,UAAU,qBAAf,UACI,sBAAKA,UAAU,2BAAf,UACI,qBAAKA,UAAU,iBAAiBsB,MAAO,CAAEC,gBAAgB,OAAD,OAASjB,EAAYuB,OAArB,QACxD,qBAAK7B,UAAU,yBACXmB,QAASd,EAAMyB,kBAEvB,sBAAK9B,UAAU,eAAf,UACI,sBAAKA,UAAU,eAAf,UACI,oBAAIA,UAAU,gBAAd,SAA+BM,EAAYmB,OAC3C,wBAAQzB,UAAU,qBACdkB,KAAK,SACLC,QAASd,EAAM0B,mBAEvB,mBAAG/B,UAAU,sBAAb,SAAoCM,EAAY0B,cAGxD,wBAAQhC,UAAU,sBAAsBkB,KAAK,SACzCC,QAASd,EAAM4B,gBAEvB,kCACI,oBAAIjC,UAAU,WAAd,SACKK,EAAM6B,MAAMC,KAAI,SAAC1B,GAAD,OAEb,cAAC,EAAD,CACAA,KAAMA,EACNY,YAAahB,EAAMgB,YACnBD,oBAAqBf,EAAMe,oBAC3BM,WAAYrB,EAAMqB,YAJPjB,EAAKE,gBCzBzByB,MATf,WACI,OACA,wBAAQpC,UAAU,SAAlB,SAEA,mBAAGA,UAAU,eAAb,uCCUWqC,MAdf,SAAqBhC,GACjB,OACI,qBAAKL,UAAS,iCAA+BK,EAAMI,KAAK6B,QAAU,gBAAlE,SACA,yBAAQtC,UAAU,yBAAlB,UACI,wBAAQA,UAAU,kCACdkB,KAAK,SAASC,QAASd,EAAMkC,UACjC,qBAAKC,IAAKnC,EAAMI,KAAKe,KAAMiB,IAAKpC,EAAMI,KAAKgB,KACvCzB,UAAU,iBACd,4BAAYA,UAAU,oBAAtB,SAA2CK,EAAMI,KAAKgB,aCSnDiB,MAhBf,SAAwBrC,GAEhB,OACI,qBAAKL,UAAS,2BAAsBK,EAAMoB,KAA5B,YAAoCpB,EAAMiC,QAAU,gBAAlE,SACI,sBAAKtC,UAAU,mBAAf,UACI,wBAAQA,UAAU,iCAAiCkB,KAAK,SAASC,QAASd,EAAMkC,UAChF,uBAAMvC,UAAU,OAAOyB,KAAMpB,EAAMoB,KAAnC,UACI,oBAAIzB,UAAU,cAAd,SAA6BK,EAAMsC,OAClCtC,EAAMuC,SACP,wBAAQ5C,UAAU,oBAAoBkB,KAAK,SAA3C,SAAqDb,EAAMwC,mB,cC4FtEC,EAAM,I,WAnGf,WAAYC,GAAS,oBACjBC,KAAKC,QAAUF,EAAOE,QACtBD,KAAKE,QAAUH,EAAOG,Q,mDAG1B,WACI,OAAOC,MAAMH,KAAKC,QAAU,QACxB,CAAEC,QAASF,KAAKE,UACfE,KAAKJ,KAAKK,oB,yBAGnB,WACI,OAAOF,MAAMH,KAAKC,QAAU,WAAY,CACpCC,QAASF,KAAKE,UAEjBE,KAAKJ,KAAKK,oB,4BAGf,WACI,OAAOC,QAAQC,IAAI,CAACP,KAAKQ,cAAeR,KAAKS,sB,4BAGjD,SAAeC,GACX,OAAOP,MAAMH,KAAKC,QAAU,WAAY,CACpCU,OAAQ,QACRT,QAASF,KAAKE,QACdU,KAAMC,KAAKC,UAAU,CACjBrC,KAAMiC,EAAKjC,KACXO,MAAO0B,EAAK1B,UAGnBoB,KAAKJ,KAAKK,oB,8BAGf,SAAiBK,GACb,OAAOP,MAAMH,KAAKC,QAAU,kBAAmB,CAC3CU,OAAQ,QACRT,QAASF,KAAKE,QACdU,KAAMC,KAAKC,UAAU,CACjBjC,OAAQ6B,EAAK7B,WAIpBuB,KAAKJ,KAAKK,oB,wBAGf,SAAWU,EAAKL,GACZ,OAAOP,MAAMH,KAAKC,QAAUc,EAAK,CAC7BJ,OAAQ,OACRT,QAASF,KAAKE,QACdU,KAAMC,KAAKC,UAAU,CACjBrC,KAAMiC,EAAKjC,KACXD,KAAMkC,EAAKlC,SAGlB4B,KAAKJ,KAAKK,oB,wBAIf,SAAWW,GACP,OAAOb,MAAM,qDAAD,OAAsDa,GAAM,CACpEL,OAAQ,SACRT,QAASF,KAAKE,UAEjBE,KAAKJ,KAAKK,oB,kCAEf,SAAqBW,EAAInD,GACrB,OAAIA,EACKmC,KAAKiB,WAAL,sBAA+BD,IAE/BhB,KAAKkB,QAAL,sBAA4BF,M,qBAIzC,SAAQD,GACJ,OAAOZ,MAAMH,KAAKC,QAAUc,EAAK,CAC7BJ,OAAQ,MACRT,QAASF,KAAKE,UAEjBE,KAAKJ,KAAKK,oB,wBAGf,SAAWU,GACP,OAAOZ,MAAMH,KAAKC,QAAUc,EAAK,CAC7BJ,OAAQ,SACRT,QAASF,KAAKE,UAEjBE,KAAKJ,KAAKK,oB,8BAGf,SAAiBc,GACb,OAAKA,EAAIC,GAGFD,EAAIE,OAFAf,QAAQgB,OAAR,gDAA0BH,EAAII,a,KAO9B,CAAQ,CACvBtB,QAAS,+CACTC,QAAS,CACPsB,cAAe,uCACf,eAAgB,sBC/EPC,MAxBf,SAA0BpE,GACtB,IAAMqE,EAAYxE,IAAMyE,SAQxB,OACI,qBAAK3E,UAAS,kCAA+BK,EAAMiC,QAAU,gBAA7D,SACA,sBAAKtC,UAAU,mBAAf,UACA,wBAAQA,UAAU,mCAAmCkB,KAAK,SAASC,QAASd,EAAMkC,UAC1E,uBAAMvC,UAAU,OAAOyB,KAAM,SAASmD,SAXlD,SAAsBC,GAClBA,EAAEC,iBAEFzE,EAAM0E,eAAe,CACnBlD,OAAQ6C,EAAUM,QAAQC,SAOpB,UACI,oBAAIjF,UAAU,cAAd,mGACA,uBAAOkB,KAAK,MAAMlB,UAAU,cAAckF,IAAKR,EAAWV,GAAG,SAASvC,KAAK,SAAS0D,UAAQ,EAACC,aAAa,MAAMC,YAAY,uGAC5H,sBAAMrF,UAAU,oBAAoBgE,GAAG,iBAC3C,wBAAQhE,UAAU,oBAAoBkB,KAAK,SAA3C,SAAqDb,EAAMiF,UAAY,kEAAkB,oECyB1FC,MA1Cf,SAA2BlF,GACvB,IAAMC,EAAcJ,IAAMK,WAAWN,GACrC,EAAwBC,IAAMsF,SAASlF,EAAYmB,MAAnD,mBAAOA,EAAP,KAAagE,EAAb,KACA,EAAsCvF,IAAMsF,SAASlF,EAAY0B,OAAjE,mBAAO0D,EAAP,KAAoBC,EAApB,KAuBA,OArBAzF,IAAM0F,WAAU,WACZH,EAAQnF,EAAYmB,MACpBkE,EAAerF,EAAY0B,SAC1B,CAAC1B,IAmBF,qBAAKN,UAAS,gCAA6BK,EAAMiC,QAAU,gBAA3D,SACA,sBAAKtC,UAAU,mBAAf,UACA,wBAAQA,UAAU,iCAAiCkB,KAAK,SAASC,QAASd,EAAMkC,UACxE,uBAAMvC,UAAU,OAAOyB,KAAK,OAAOmD,SAZ7C,SAAsBC,GACpBA,EAAEC,iBACFzE,EAAMwF,aAAa,CACjBpE,OACAO,MAAO0D,KAQD,UACI,oBAAI1F,UAAU,cAAd,uIACA,uBAAOkB,KAAK,OAAO+D,MAAOxD,GAAQ,IAAKqE,SAtBvD,SAA0BjB,GACtBY,EAAQZ,EAAEkB,OAAOd,QAqB8DjF,UAAU,cAAcgE,GAAG,OAAOgC,UAAU,IAAIC,UAAU,KAAKxE,KAAK,OAAO0D,UAAQ,IACtJ,sBAAMnF,UAAU,oBAAoBgE,GAAG,eACvC,uBAAO9C,KAAK,OAAO+D,MAAOS,GAAe,IAAKI,SApB5D,SAAiCjB,GAC/Bc,EAAed,EAAEkB,OAAOd,QAmBqEjF,UAAU,cAAcgE,GAAG,MAAMgC,UAAU,IAAIC,UAAU,MAAMxE,KAAK,QAAQ0D,UAAQ,IACrK,sBAAMnF,UAAU,oBAAoBgE,GAAG,cAC3C,wBAAQhE,UAAU,oBAAoBkB,KAAK,SAA3C,SAAqDb,EAAMiF,UAAY,kEAAkB,oECF1FY,MApCf,SAAuB7F,GACnB,MAA6BH,IAAMsF,SAAS,IAA5C,mBAAO/D,EAAP,KAAa0E,EAAb,KACA,EAA6BjG,IAAMsF,SAAS,IAA5C,mBAAOhE,EAAP,KAAa4E,EAAb,KAiBA,OACI,qBAAKpG,UAAS,qCAAgCK,EAAMiC,QAAU,gBAA9D,SACI,sBAAKtC,UAAU,mBAAf,UACI,wBAAQA,UAAU,iCAAiCkB,KAAK,SAASC,QAASd,EAAMkC,UAChF,uBAAMvC,UAAU,OAAOyB,KAAK,WAAWmD,SAXnD,SAAsBC,GAClBA,EAAEC,iBACFzE,EAAM4B,WAAW,CACbR,OAAMD,UAQF,UACI,oBAAIxB,UAAU,cAAd,2EACA,uBAAOkB,KAAK,OAAOlB,UAAU,cAAcgE,GAAG,QAAQvC,KAAK,OAAOuE,UAAU,IAAIC,UAAU,KAAKd,UAAQ,EAACC,aAAa,MAAMC,YAAY,gEAAcS,SArBrK,SAA4BjB,GACxBsB,EAAatB,EAAEkB,OAAOd,UAqBV,sBAAMjF,UAAU,oBAAoBgE,GAAG,gBACvC,uBAAO9C,KAAK,MAAMlB,UAAU,cAAcgE,GAAG,OAAOvC,KAAK,OAAO0D,UAAQ,EAACC,aAAa,MAAMC,YAAY,qGAAqBS,SAnB7I,SAA4BjB,GACxBuB,EAAavB,EAAEkB,OAAOd,UAmBV,sBAAMjF,UAAU,oBAAoBgE,GAAG,eACvC,wBAAQhE,UAAU,oBAAoBkB,KAAK,SAA3C,SAAqDb,EAAMiF,UAAY,kEAAkB,wDChB9Fe,MAdf,SAAsBhG,GAClB,OACI,qBAAKL,UAAS,kCAA6BK,EAAMiC,QAAU,gBAA3D,SACI,sBAAKtC,UAAU,mBAAf,UACI,wBAAQA,UAAU,mCAAmCkB,KAAK,SAASC,QAASd,EAAMkC,UAClF,uBAAMvC,UAAU,OAAOyB,KAAK,SAASmD,SAAUvE,EAAMuE,SAArD,UACI,oBAAI5E,UAAU,cAAd,sEACA,wBAAQA,UAAU,oBAAoBkB,KAAK,SAA3C,mCCFLoF,MALf,SAAkBjG,GACd,OACI,qBAAKL,UAAYK,EAAMiF,UAAW,0BAA4B,aCkLvDiB,MAnKf,WACE,MAAsCrG,IAAMsF,SAAS,IAArD,mBAAOlF,EAAP,KAAoBkG,EAApB,KACA,EAAsDtG,IAAMsF,UAAS,GAArE,mBAAOiB,EAAP,KAA+BC,EAA/B,KACA,EAAgDxG,IAAMsF,UAAS,GAA/D,mBAAOmB,EAAP,KAA4BC,EAA5B,KACA,EAAoD1G,IAAMsF,UAAS,GAAnE,mBAAOqB,EAAP,KAA8BC,EAA9B,KACA,EAAwC5G,IAAMsF,SAAU,CAAElD,QAAQ,IAAlE,mBAAOyE,EAAP,KAAqBC,EAArB,KACA,EAAkD9G,IAAMsF,UAAS,GAAjE,mBAAOyB,EAAP,KAA2BC,EAA3B,KACA,EAA0BhH,IAAMsF,SAAS,IAAzC,mBAAOtD,EAAP,KAAciF,EAAd,KACA,EAAkCjH,IAAMsF,UAAS,GAAjD,mBAAOF,EAAP,KAAkB8B,EAAlB,KA0EA,SAASC,IACPP,GAAmB,GACnBJ,GAAoB,GACpBE,GAAiB,GACjBI,EAAgB,CAAC1E,QAAQ,IACzB4E,GAAoB,GAiDtB,OA9HAhH,IAAM0F,WAAU,WACdwB,GAAa,GACbtE,EAAIwE,iBACDlE,MACC,SAACM,GACC,kBAAqCA,EAArC,GAAO6D,EAAP,KAAiBC,EAAjB,KACAL,EAASK,GACThB,EAAee,MAEhBE,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAC3BG,SAAQ,WACPT,GAAa,QAElB,IAkHD,cAACnH,EAAmB6H,SAApB,CAA6B7C,MAAO3E,EAApC,SACE,sBAAKN,UAAU,OAAf,UACE,cAAC,EAAD,CAASsF,UAAaA,IACtB,cAAC,EAAD,IAEA,cAAC,EAAD,CACEvD,cA/ER,WACE2E,GAAoB,IA+EdzE,WA7ER,WACE2E,GAAiB,IA6EX9E,aArFR,WACEgF,GAAmB,IAqFbzF,YAxER,SAAyBZ,GACvBuG,EAAgB,CACd1E,QAAQ,EACRd,KAAMf,EAAKe,KACXC,KAAMhB,EAAKgB,QAqEPS,MAAOA,EACPR,WAzHR,SAAwBjB,GACtB,IAAMI,EAAUJ,EAAKK,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQL,EAAYK,OAC3DmC,EAAIiF,qBAAqBtH,EAAKE,IAAKE,GAChCuC,MACC,SAAC4E,GACC,IAAMC,EAAW/F,EAAMC,KAAI,SAAC+F,GAAD,OAAiBA,EAAYvH,MAAQF,EAAKE,IAAMqH,EAAUE,KACrFf,EAASc,MAEX,SAACP,GACCC,QAAQC,IAAIF,OAiHZtG,oBAlBR,SAAiCX,GAC/BuG,EAAgBvG,GAChByG,GAAoB,MAkBhB,cAAC,EAAD,CAAkB5E,OAAQmE,EAAwBlE,QAAS8E,EAAgBxB,aA5DjF,SAA0BnC,GACxB0D,GAAa,GACbtE,EAAIqF,eAAezE,GAChBN,MAAK,SAACM,GACL8C,EAAe9C,GACf2D,OAEDI,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAC3BG,SAAQ,WACPT,GAAa,OAmD8F9B,UAAaA,IACxH,cAAC,EAAD,CAAiBhD,OAAQuE,EAAuBtE,QAAS8E,EAAgBtC,eA/C/E,SAA4BrB,GAC1B0D,GAAa,GACbtE,EAAIsF,iBAAiB1E,GAClBN,MAAK,SAACM,GACL8C,EAAe9C,GACf2D,OAEDI,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAC3BG,SAAQ,WACPT,GAAa,OAsCgG9B,UAAaA,IAC1H,cAAC,EAAD,CAAehD,OAAQqE,EAAqB9D,QAAQ,6CAAUN,QAAS8E,EAAgBpF,WAnC7F,SAA8ByB,GAC5B0D,GAAa,GACbtE,EAAIuF,WAAW,QAAS3E,GACrBN,MAAK,SAAC4E,GACLb,EAAS,CAACa,GAAF,mBAAc9F,KACtBmF,OAEDI,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAC3BG,SAAQ,WACPT,GAAa,OA0B4G9B,UAAaA,IACtI,cAAC,EAAD,CAAe7D,KAAK,SAASkB,KAAK,0DAAaE,QAAQ,iBACvD,cAAC,EAAD,CAAYpC,KAAMsG,EAAcxE,QAAS8E,IACzC,cAAC,EAAD,CAAc/E,OAAQ2E,EAAoB1E,QAAS8E,EAAgBzC,SA5GzE,SAA0B0D,GACxBA,EAAIxD,iBACJhC,EAAIyF,WAAWxB,EAAapG,KACzByC,MACC,WACE,IAAM6E,EAAW/F,EAAMsG,QAAO,SAACC,GAAD,OAAUA,EAAK9H,MAAQoG,EAAapG,OAClEwG,EAASc,GACTZ,OAEDI,OAAO,SAACC,GAAD,OAASC,QAAQC,IAAIF,SAoG7B,cAAC,EAAD,UClKOgB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBxF,MAAK,YAAkD,IAA/CyF,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.a406d4b5.chunk.js","sourcesContent":["function Header () {\r\n    return (\r\n        <header className=\"header\">\r\n        <div className=\"header__logo\"></div>\r\n    </header>\r\n    )\r\n}\r\nexport default Header","import React from \"react\";\r\nexport const CurrentUserContext = React.createContext();","import { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport React from 'react';\r\n\r\nfunction Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n    const cardDeleteButtonClassName = (\r\n        `${isOwn ? 'elements__delete' : 'elements__delete_noactive'}`\r\n    );\r\n\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    \r\n\r\n    const cardLikeButtonClassName = `${isLiked ? 'elements_button elements__button_active' : 'elements__button'}`;\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n    \r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card);\r\n    }\r\n    \r\n\r\n    function handleDeleteRequest() {\r\n        props.onCardDeleteRequest(props.card);\r\n      }\r\n    return (\r\n\r\n        <li className=\"elements__item\">\r\n            <button className={cardDeleteButtonClassName} type=\"button\" onClick = {handleDeleteRequest}></button>\r\n            <div className=\"elements__photo\" onClick={handleClick} style={{ backgroundImage: `url(${props.card.link})` }}></div>\r\n            <div className=\"elements__name-container\">\r\n                <h3 className=\"elements__name\">{props.card.name}</h3>\r\n                <div className=\"elements__like-container\">\r\n                    <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\"></button>\r\n                    <p className=\"elements__like-counter\">{props.card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n\r\n    )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main>\r\n            <section className=\"profile\">\r\n                <div className=\"profile__container\">\r\n                    <div className=\"profile__photo-container\">\r\n                        <div className=\"profile__photo\" style={{ backgroundImage: `url(${currentUser.avatar})` }} ></div>\r\n                        <div className=\"profile__photo-overlay\"\r\n                            onClick={props.onEditAvatar}></div>\r\n                    </div>\r\n                    <div className=\"profile__all\">\r\n                        <div className=\"profile__box\">\r\n                            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                            <button className=\"profile__corrector\"\r\n                                type=\"button\"\r\n                                onClick={props.onEditProfile}></button>\r\n                        </div>\r\n                        <p className=\"profile__occupation\">{currentUser.about}</p>\r\n                    </div>\r\n                </div>\r\n                <button className=\"profile__add-button\" type=\"button\"\r\n                    onClick={props.onAddPlace}></button>\r\n            </section>\r\n            <section>\r\n                <ul className=\"elements\">\r\n                    {props.cards.map((card) => (\r\n                       \r\n                        <Card key={card._id} \r\n                        card={card} \r\n                        onCardClick={props.onCardClick} \r\n                        onCardDeleteRequest={props.onCardDeleteRequest} \r\n                        onCardLike={props.onCardLike} />\r\n\r\n                    ))}\r\n                </ul>\r\n            </section>\r\n\r\n\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Main;","function Footer () {\r\n    return (\r\n    <footer className=\"footer\">\r\n        \r\n    <p className=\"footer__text\">&#169; 2021.Mesto Russia</p>\r\n    </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","function ImagePopup (props) {\r\n    return (\r\n        <div className =  {`popup popup_type_image ${props.card.isOpen && 'popup_opened'}`}>\r\n        <figure className=\"popup__image-container\">\r\n            <button className=\"popup__close popup__close_image\"\r\n                type=\"button\" onClick={props.onClose}></button>\r\n            <img src={props.card.link} alt={props.card.name}\r\n                className=\"popup__image\"/>\r\n            <figcaption className=\"popup__image-name\">{props.card.name}</figcaption>\r\n        </figure>\r\n    </div>\r\n    )\r\n    \r\n}\r\nexport default ImagePopup;","\r\nfunction PopupWithForm (props) {\r\n    \r\n        return (\r\n            <div className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n                <div className=\"popup__container\">\r\n                    <button className=\"popup__close popup__close_edit\" type=\"button\" onClick={props.onClose}></button>\r\n                    <form className=\"form\" name={props.name}>\r\n                        <h2 className=\"form__title\">{props.text}</h2>\r\n                        {props.children}\r\n                        <button className=\"form__save-button\" type=\"submit\">{props.btnText}</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\nexport default PopupWithForm;\r\n\r\n\r\n","\r\n\r\nclass Api {\r\n    constructor(config) {\r\n        this.mainUrl = config.mainUrl;\r\n        this.headers = config.headers;\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(this.mainUrl + 'cards',\r\n            { headers: this.headers })\r\n            .then(this._getResponseData)\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch(this.mainUrl + 'users/me', {\r\n            headers: this.headers\r\n        })\r\n        .then(this._getResponseData)\r\n\r\n    }\r\n    getInitialData() {\r\n        return Promise.all([this.getUserInfo(), this.getInitialCards()]);\r\n      }\r\n\r\n    changeUserInfo(data) {\r\n        return fetch(this.mainUrl + 'users/me', {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                about: data.about\r\n            })\r\n        })\r\n        .then(this._getResponseData)\r\n    }\r\n\r\n    changeUserAvatar(data) {\r\n        return fetch(this.mainUrl + 'users/me/avatar', {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                avatar: data.avatar,\r\n\r\n            })\r\n        })\r\n        .then(this._getResponseData)\r\n    }\r\n\r\n    newCardAdd(url, data) {\r\n        return fetch(this.mainUrl + url, {\r\n            method: 'POST',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                link: data.link\r\n            })\r\n        })\r\n        .then(this._getResponseData)\r\n\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`https://mesto.nomoreparties.co/v1/cohort-27/cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this.headers,\r\n        })\r\n        .then(this._getResponseData)\r\n    }\r\n    changeLikeCardStatus(id, isLiked) {\r\n        if (isLiked) {\r\n          return this.likeRemove(`cards/likes/${id}`);\r\n        } else {\r\n          return this.likeAdd(`cards/likes/${id}`);\r\n        }\r\n      }\r\n\r\n    likeAdd(url) {\r\n        return fetch(this.mainUrl + url, {\r\n            method: 'PUT',\r\n            headers: this.headers\r\n        })\r\n        .then(this._getResponseData)\r\n    }\r\n\r\n    likeRemove(url) {\r\n        return fetch(this.mainUrl + url, {\r\n            method: 'DELETE',\r\n            headers: this.headers\r\n        })\r\n        .then(this._getResponseData)      \r\n    }\r\n    \r\n    _getResponseData(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n\r\n}\r\n\r\nexport const api = new Api({\r\n    mainUrl: 'https://mesto.nomoreparties.co/v1/cohort-27/',\r\n    headers: {\r\n      authorization: '6d5ca00d-91ba-48f8-98c4-b38aa97b3c19',\r\n      'Content-Type': 'application/json'\r\n    }\r\n  });\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\n\r\n\r\nfunction EditAvatarPopup (props) {\r\n    const avatarRef = React.useRef();\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n      \r\n        props.onUpdateAvatar({\r\n          avatar: avatarRef.current.value\r\n        });\r\n      } \r\n    return (\r\n        <div className = {`popup popup_type_avatar ${props.isOpen && 'popup_opened'}`}>\r\n        <div className=\"popup__container\">\r\n        <button className=\"popup__close popup__close_avatar\" type=\"button\" onClick={props.onClose}></button>\r\n                <form className=\"form\" name= \"avatar\" onSubmit={handleSubmit}>\r\n                    <h2 className=\"form__title\">Обновить аватар</h2>\r\n                    <input type=\"url\" className=\"form__input\" ref={avatarRef} id=\"avatar\" name=\"avatar\" required autoComplete=\"off\" placeholder=\"Ссылка на картинку\"/>\r\n                    <span className=\"form__input-error\" id=\"avatar-error\"></span>\r\n                <button className=\"form__save-button\" type=\"submit\">{props.isLoading ? \"Сохранение...\" : \"Сохранить\"}</button>   \r\n                </form>\r\n            </div>\r\n   </div>\r\n    \r\n    )\r\n}\r\nexport default EditAvatarPopup;","import React from \"react\";\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup (props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState(currentUser.name);\r\n    const [description, setDescription] = React.useState(currentUser.about);\r\n   \r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n      }, [currentUser]); \r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n      }\r\n\r\n      function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n      }\r\n\r\n      function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n          name,\r\n          about: description,\r\n        });\r\n      } \r\n\r\n    return (\r\n        <div className = {`popup popup_type_edit ${props.isOpen && 'popup_opened'}`}>\r\n        <div className=\"popup__container\" >\r\n        <button className=\"popup__close popup__close_edit\" type=\"button\" onClick={props.onClose}></button>\r\n                <form className=\"form\" name='edit' onSubmit={handleSubmit}>\r\n                    <h2 className=\"form__title\">Редактировать профиль</h2>\r\n                    <input type=\"text\" value={name || ' '} onChange={handleChangeName} className=\"form__input\" id=\"name\" minLength=\"2\" maxLength=\"40\" name=\"name\" required />\r\n                    <span className=\"form__input-error\" id=\"name-error\"></span>\r\n                    <input type=\"text\" value={description || ' '} onChange={handleChangeDescription} className=\"form__input\" id=\"job\" minLength=\"2\" maxLength=\"200\" name=\"about\" required />\r\n                    <span className=\"form__input-error\" id=\"job-error\"></span>\r\n                <button className=\"form__save-button\" type=\"submit\">{props.isLoading ? \"Сохранение...\" : \"Сохранить\"}</button>   \r\n                </form>\r\n            </div>\r\n    </div>\r\n    )\r\n}\r\nexport default EditProfilePopup;","import React from \"react\";\r\nfunction AddPlacePopup(props) {\r\n    const [name, setNamePlace] = React.useState('');\r\n    const [link, setLinkPlace] = React.useState('');\r\n\r\n    function handleAddNamePlace(e) {\r\n        setNamePlace(e.target.value);\r\n    }\r\n\r\n    function handleAddLinkPlace(e) {\r\n        setLinkPlace(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n            name, link\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className={`popup popup_type_new-card} ${props.isOpen && 'popup_opened'}`}>\r\n            <div className=\"popup__container\">\r\n                <button className=\"popup__close popup__close_edit\" type=\"button\" onClick={props.onClose}></button>\r\n                <form className=\"form\" name=\"new-card\" onSubmit={handleSubmit}>\r\n                    <h2 className=\"form__title\">Новое место</h2>\r\n                    <input type=\"text\" className=\"form__input\" id=\"place\" name=\"name\" minLength=\"2\" maxLength=\"30\" required autoComplete=\"off\" placeholder=\"Новое место\" onChange={handleAddNamePlace} />\r\n                    <span className=\"form__input-error\" id=\"place-error\"></span>\r\n                    <input type=\"url\" className=\"form__input\" id=\"link\" name=\"link\" required autoComplete=\"off\" placeholder=\"Ссылка на картинку\" onChange={handleAddLinkPlace} />\r\n                    <span className=\"form__input-error\" id=\"link-error\"></span>\r\n                    <button className=\"form__save-button\" type=\"submit\">{props.isLoading ? \"Сохранение...\" : \"Создать\"}</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}\r\nexport default AddPlacePopup;","function ConfirmPopup(props) {\r\n    return (\r\n        <div className={`popup popup_type_delete ${props.isOpen && 'popup_opened'}`}>\r\n            <div className=\"popup__container\">\r\n                <button className=\"popup__close popup__close_avatar\" type=\"button\" onClick={props.onClose}></button>\r\n                <form className=\"form\" name=\"delete\" onSubmit={props.onSubmit}>\r\n                    <h2 className=\"form__title\">Вы уверены?</h2>\r\n                    <button className=\"form__save-button\" type=\"submit\">Да</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default ConfirmPopup","function Spinner (props) {\r\n    return (\r\n        <div className ={props.isLoading? \"spinner spinner_visible\" : \"spinner\"}></div>\r\n    )\r\n}\r\nexport default Spinner","\nimport '../index.css';\nimport Header from './Header';\nimport React from 'react';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport PopupWithForm from './PopupWithForm';\nimport { api } from '../utils/Api'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmPopup from './ConfirmPopup';\nimport Spinner from './Spinner';\n\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isEditProfilePopupOpen, setEditProfilePopup] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopup] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopup] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(({ isOpen: false }));\n  const [isConfirmPopupOpen, setConfirmPopupOpen] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(false)\n\n  React.useEffect(() => {\n    setIsLoading(true)\n    api.getInitialData()\n      .then(\n        (data) => {\n          const [userData, initialCardsData] = data;\n          setCards(initialCardsData);\n          setCurrentUser(userData);\n        })\n        .catch((err) => console.log(err))\n        .finally(() => {\n          setIsLoading(false);\n        })     \n  }, [])\n\n \n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then(\n        (newCard) => {\n          const newCards = cards.map((currentCard) => currentCard._id === card._id ? newCard : currentCard)\n          setCards(newCards);\n        },\n        (err) => {\n          console.log(err);\n        }\n      )\n  }\n  // function handleCardDelete(card) {\n  //   api.deleteCard(`cards/${card._id}`)\n  //     .then(() => {\n  //       setCards(cards => cards.filter((state) => state._id !== card._id))\n  //     })\n  //     .catch((err) => console.log(err))\n  // }\n\n  function handleCardDelete(evt) {\n    evt.preventDefault();\n    api.deleteCard(selectedCard._id)\n      .then(\n        () => {\n          const newCards = cards.filter((elem) => elem._id !== selectedCard._id);\n          setCards(newCards);\n          closeAllPopups();\n        })\n        .catch ((err) => console.log(err))  \n  }\n  \n  function handleEditAvatarClick() {\n    setEditAvatarPopup(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopup(true);\n  }\n  function handleAddPlaceClick() {\n    setAddPlacePopup(true);\n  }\n  \n    \n  \n\n  function handleCardClick(card) {\n    setSelectedCard({\n      isOpen: true,\n      link: card.link,\n      name: card.name\n    })\n  }\n\n  function closeAllPopups() {\n    setEditAvatarPopup(false);\n    setEditProfilePopup(false);\n    setAddPlacePopup(false);\n    setSelectedCard({isOpen: false});\n    setConfirmPopupOpen(false)\n    \n  }\n\n  function handleUpdateUser(data) {\n    setIsLoading(true)\n    api.changeUserInfo(data)\n      .then((data) => {\n        setCurrentUser(data)\n        closeAllPopups()\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n      })\n     \n\n  }\n  function handleUpdateAvatar(data) {\n    setIsLoading(true)\n    api.changeUserAvatar(data)\n      .then((data) => {\n        setCurrentUser(data)\n        closeAllPopups()\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n      })\n\n  }\n  function handleAddPlaceSubmit(data) {\n    setIsLoading(true)\n    api.newCardAdd('cards', data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups()\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n      })\n  }\n\n  function handleCardDeleteRequest(card) {\n    setSelectedCard(card);\n    setConfirmPopupOpen(true);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Spinner isLoading = {isLoading}/>\n        <Header />\n        \n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDeleteRequest={handleCardDeleteRequest}/>\n        \n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} isLoading = {isLoading}/>\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} isLoading = {isLoading}/>\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} btnText='Создать' onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} isLoading = {isLoading} />\n        <PopupWithForm name='delete' text='Вы уверены' btnText='Да' />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        <ConfirmPopup isOpen={isConfirmPopupOpen} onClose={closeAllPopups} onSubmit={handleCardDelete}/>\n        <Footer />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}